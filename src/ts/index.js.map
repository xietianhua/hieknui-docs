{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["declare const HuCommonUtils: any;\r\ndeclare const hljs: any;\r\ndeclare const _: any;\r\ndeclare const Clipboard: any;\r\ndeclare const style_html: any;\r\ndeclare const js_beautify: any;\r\n\r\nclass Index {\r\n\r\n    private static highlight($item: JQuery, html = '', js = '', css = '') {\r\n        let tabId1 = HuCommonUtils.randomId('code-tab');\r\n        let tabId2 = HuCommonUtils.randomId('code-tab');\r\n        let tabId3 = HuCommonUtils.randomId('code-tab');\r\n        let tabId4 = HuCommonUtils.randomId('code-tab');\r\n        let tabHTML = `<div class=\"hu-card card-shadow code-demo\">\r\n                            <div class=\"hu-card-head\">\r\n                                <ul class=\"hu-tabs tabs-primary\">\r\n                                    <li class=\"active\"><a href=\"#${tabId1}\">Demo</a></li>\r\n                                    ${html ? `<li><a href=\"#${tabId2}\">HTML</a></li>` : `` }\r\n                                    ${js ? `<li><a href=\"#${tabId3}\">JAVASCRIPT</a></li>` : `` }\r\n                                    ${css ? `<li><a href=\"#${tabId4}\">CSS</a></li>` : `` }\r\n                                </ul>\r\n                            </div>\r\n                            <div class=\"hu-card-body\">\r\n                                <div class=\"hu-tab-content\">\r\n                                    <div class=\"tab-pane active\" id=\"${tabId1}\">\r\n                                        ${html}\r\n                                    </div>\r\n                                    <div class=\"tab-pane\" id=\"${tabId2}\">\r\n                                        <pre><code class=\"html\"></code></pre>\r\n                                    </div>\r\n                                    <div class=\"tab-pane\" id=\"${tabId3}\">\r\n                                        <pre><code class=\"javascript\">${js}</code></pre>\r\n                                    </div>\r\n                                    <div class=\"tab-pane\" id=\"${tabId4}\">\r\n                                        <pre><code class=\"css\">${css}</code></pre>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>`;\r\n        const $new = $(tabHTML);\r\n        html = style_html(html);\r\n        $new.find('code.html').text(html);\r\n        $item.replaceWith($new);\r\n        hljs.highlightBlock($new.find('code.html')[0]);\r\n        hljs.highlightBlock($new.find('code.javascript')[0]);\r\n        hljs.highlightBlock($new.find('code.css')[0]);\r\n    }\r\n\r\n    constructor() {\r\n        this.init();\r\n    }\r\n\r\n    private init() {\r\n        this.sw();\r\n        this.updateTabPos();\r\n        this.buildDemo();\r\n        this.copy();\r\n        this.setDocs();\r\n    }\r\n\r\n    private updateTabPos() {\r\n        if (location.hash) {\r\n            const $a = $('a[href=\"' + location.hash + '\"]');\r\n            $a.parent().trigger('click');\r\n            const $p = $a.closest('.tab-pane');\r\n            if ($p.length) {\r\n                const id = $p.attr('id');\r\n                $('a[href=\"#' + id + '\"]').parent().trigger('click');\r\n            }\r\n        }\r\n    }\r\n\r\n    private copy() {\r\n        const clipboard = new Clipboard('.icon');\r\n        $('li').find('i').each(function (i, v) {\r\n            $(v).attr('data-clipboard-text', v.outerHTML)\r\n        });\r\n        clipboard.on('success', () => {\r\n            $('.prompt-success').show(200, () => {\r\n                setTimeout(() => {\r\n                    $('.prompt-success').hide(200)\r\n                }, 500);\r\n            });\r\n        });\r\n    }\r\n\r\n    private setDocs() {\r\n        $('.demo-html').each(function (i, v) {\r\n            const $form = $(v).removeClass('demo-html');\r\n            let html = $form[0].outerHTML;\r\n            if ($form.hasClass('line')) {\r\n                html = $form.html();\r\n            }\r\n            Index.highlight($form, html);\r\n        });\r\n    }\r\n\r\n    private buildDemo() {\r\n        $('.code-demo').each((i, v) => {\r\n            const $v = $(v);\r\n            const $demo = $v.find('[data-tab=\"demo\"]');\r\n            $(`<div class=\"hu-card-head\">\r\n                    <ul class=\"hu-tabs tabs-primary\">\r\n                    </ul>\r\n                </div>`).prependTo($v);\r\n            const $head = $v.find('.hu-tabs');\r\n            if ($demo.length) {\r\n                let tabId1 = HuCommonUtils.randomId('code-tab');\r\n                $demo.attr('id', tabId1);\r\n                $head.append(`<li><a href=\"#${tabId1}\">Demo</a></li>`);\r\n                if ($demo.is('[data-html]')) {\r\n                    const htmlRef = $demo.attr('data-html');\r\n                    let html = $demo.html();\r\n                    if (htmlRef) {\r\n                        html = $(htmlRef)[0].outerHTML;\r\n                    }\r\n                    let tabId2 = HuCommonUtils.randomId('code-tab');\r\n                    const $html = $(`<div class=\"tab-pane\" data-tab=\"html\" id=\"${tabId2}\">\r\n                                        <pre><code class=\"html\"></code></pre>\r\n                                    </div>`);\r\n                    $html.find('code.html').text(style_html(html));\r\n                    $demo.after($html);\r\n                    $head.append(`<li><a href=\"#${tabId2}\">HTML</a></li>`);\r\n                    hljs.highlightBlock($html.find('code.html')[0]);\r\n                }\r\n            }\r\n            const $code = $v.find('[data-tab=\"javascript\"]');\r\n            if ($code.length) {\r\n                let tabId = HuCommonUtils.randomId('code-tab');\r\n                $code.attr('id', tabId);\r\n                $head.append(`<li><a href=\"#${tabId}\">JAVASCRIPT</a></li>`);\r\n                const code = $code.text().trim();\r\n                if (code) {\r\n                    eval(code);\r\n                    $code.html(`<pre><code class=\"javascript\">${js_beautify(code)}</code></pre>`);\r\n                    hljs.highlightBlock($code.find('code.javascript')[0]);\r\n                }\r\n            }\r\n            const $api = $v.find('[data-tab=\"api\"]');\r\n            if ($api.length) {\r\n                let tabId = HuCommonUtils.randomId('code-tab');\r\n                $api.attr('id', tabId);\r\n                $head.append(`<li><a href=\"#${tabId}\">API</a></li>`);\r\n                const $code2 = $api.find('.javascript');\r\n                if ($code2.length) {\r\n                    const code = $code2.text().trim();\r\n                    if (code) {\r\n                        $code2.html(`<pre><code class=\"javascript\">${js_beautify(code)}</code></pre>`);\r\n                        hljs.highlightBlock($code2.find('code.javascript')[0]);\r\n                    }\r\n                }\r\n            }\r\n            $head.find('li.tabs-decoration').appendTo($head);\r\n            $head.find('li:eq(0)').trigger('click');\r\n        });\r\n    }\r\n\r\n    private sw() {\r\n        if ('serviceWorker' in navigator && location.protocol === 'https:') {\r\n            navigator.serviceWorker.register('/hieknui/sw.js?t=' + new Date().getTime(), {scope: '/hieknui/'}).then(function (reg) {\r\n\r\n                if (reg.installing) {\r\n                    console.log('Service worker installing');\r\n                } else if (reg.waiting) {\r\n                    console.log('Service worker installed');\r\n                } else if (reg.active) {\r\n                    console.log('Service worker active');\r\n                }\r\n\r\n            }).catch(function (error) {\r\n                // registration failed\r\n                console.log('Registration failed with ' + error);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n$(() => {\r\n    const indexService = new Index();\r\n});\r\n"]}